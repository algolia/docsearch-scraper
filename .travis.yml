language: python
sudo: required

before_install:
  - sudo apt-get update -y
  - sudo apt-get install -o Dpkg::Options::="--force-confold" --force-yes -y docker-engine

services:
  - docker

env:
  - USE_PYTHON3=false
  - USE_PYTHON3=true

install:
  - touch .env
  - pip install -r requirements.txt
  - ./docsearch docker:build-scraper $USE_PYTHON3

script:
  - ./docsearch test $USE_PYTHON3
